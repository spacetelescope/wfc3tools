

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>CALWF3 &mdash; wfc3tools 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="wfc3tools 1.0 documentation" href="index.html" />
    <link rel="next" title="WF32D" href="wf32d.html" />
    <link rel="prev" title="Welcome to the wfc3tools package documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="wf32d.html" title="WF32D"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the wfc3tools package documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">wfc3tools 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-wfc3tools.calwf3">
<span id="calwf3"></span><h1>CALWF3<a class="headerlink" href="#module-wfc3tools.calwf3" title="Permalink to this headline">¶</a></h1>
<p>CALWF3 calibrates UVIS and IR images for WFC3</p>
<dl class="function">
<dt id="wfc3tools.calwf3.calwf3">
<tt class="descclassname">wfc3tools.calwf3.</tt><tt class="descname">calwf3</tt><big>(</big><em>input</em>, <em>printtime=False</em>, <em>save_tmp=False</em>, <em>verbose=False</em>, <em>debug=False</em><big>)</big><a class="headerlink" href="#wfc3tools.calwf3.calwf3" title="Permalink to this definition">¶</a></dt>
<dd><p>calwf3 Version 1.2.dev26615  updated on  03-Jan-2013</p>
<p>A detailed description of this new and improved <tt class="docutils literal"><span class="pre">calwf3</span></tt> is available in the WFC3 Data Handbook. 
The current WFC3 Data Handbook can be found at  <a class="reference external" href="http://www.stsci.edu/hst/wfc3/documents/handbooks/currentDHB/">http://www.stsci.edu/hst/wfc3/documents/handbooks/currentDHB/</a> .  
If you have questions not answered in this documentation, please contact STScI Help Desk (help[at]stsci.edu).</p>
<p><tt class="docutils literal"><span class="pre">calwf3</span></tt> can be run on a single input raw file or an asn table listing the members of an associtaion. 
When processing an association, it retrieves calibration switch and reference file keyword settings from 
the first image listed in the asn table. <tt class="docutils literal"><span class="pre">calwf3</span></tt> does not accept a user-defined list of input images on the 
command line (e.g. <tt class="docutils literal"><span class="pre">*raw.fits</span></tt> to process all raw files in the current directory).</p>
<p>The <tt class="docutils literal"><span class="pre">wf3ccd</span></tt>, <tt class="docutils literal"><span class="pre">wf32d</span></tt>, and <tt class="docutils literal"><span class="pre">wf3ir</span></tt> tasks on the other hand, will accept such user-defined input file lists, 
but they will not accept an association table( asn ) as input.</p>
<p><strong>USAGE</strong></p>
<blockquote>
<div><p>This task can be run from either the TEAL GUI or from the Python
command-line. These examples illustrate the syntax that can be used
to run the task in a couple of common modes. Batch calwf3: The recommended method for running <tt class="docutils literal"><span class="pre">calwf3</span></tt> 
in batch mode is to use Python and the <tt class="docutils literal"><span class="pre">wfc3tools</span></tt> package in the 
&#8220;STSDAS distribution &lt;<a class="reference external" href="http://www.stsci.edu/institute/software_hardware/stsdas/download-stsdas">http://www.stsci.edu/institute/software_hardware/stsdas/download-stsdas</a>&gt;.&#8221;</p>
<ol class="arabic">
<li><p class="first">In Python without TEAL:</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wfc3tools</span> <span class="kn">import</span> <span class="n">calwf3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calwf3</span><span class="o">.</span><span class="n">calwf3</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>&gt;&gt;from wfc3tools import calwf3
&gt;&gt;import glob
&gt;&gt;for fits in glob.glob(&#8216;j*_raw.fits&#8217;):
&gt;&gt;  calwf3.calwf3(fits)</p>
</div></blockquote>
</li>
<li><p class="first">In Python with TEAL:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">stsci.tools</span> <span class="kn">import</span> <span class="n">teal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">wfc3tools</span> <span class="kn">import</span> <span class="n">calwf3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">teal</span><span class="o">.</span><span class="n">teal</span><span class="p">(</span><span class="s">&#39;calwf3&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">In Pyraf:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">wfc3tools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">epar</span> <span class="n">calwf3</span>
</pre></div>
</div>
</li>
<li><p class="first">The calwf3 executable can also be called directly from the os command line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">calwf3</span><span class="o">.</span><span class="n">e</span> <span class="n">iaa001kaq_raw</span><span class="o">.</span><span class="n">fits</span> <span class="p">[</span><span class="n">command</span> <span class="n">line</span> <span class="n">options</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ol>
<p>The supported command line options include:</p>
<ul class="simple">
<li>-t: Print verbose time stamps.</li>
<li>-s: Save temporary files.</li>
<li>-v: Turn on verbose output.</li>
<li>-d: Turn on debug output.</li>
<li>-q: Turn on quiet output.</li>
<li>-r: Print the current software version number (revision)</li>
<li>&#8211;version: Print the current software version</li>
</ul>
</div></blockquote>
<p><strong>RETURNS</strong></p>
<blockquote>
<div><p>Using RAW as input:</p>
<blockquote>
<div><ul class="simple">
<li>flt.fits: output calibrated exposure.</li>
<li>ima.fits: output ramp calibration IR exposure.</li>
</ul>
</div></blockquote>
<p>Using ASN as input with WF3REJ:</p>
<blockquote>
<div><ul class="simple">
<li>crj.fits: cosmic ray rejected image</li>
</ul>
</div></blockquote>
</div></blockquote>
<p><strong>NOTES</strong></p>
<blockquote>
<div><p><em>Unit Conversion to Electrons</em>: The UVIS image is multiplied by gain right after BIASCORR, converting it to ELECTRONS. This step is no longer embedded within FLATCORR.</p>
<p><em>Dark Current Subtraction (DARKCORR)</em>: It uses DARKFILE for the reference dark image. The UVIS Dark image is now scaled by EXPTIME and FLASHDUR.</p>
<p><em>Post-Flash Correction (FLSHCORR)</em>: Post-flash correction is now performed after DARKCORR in the WF32D step. When FLSHCORR=PERFORM, it uses FLSHFILE (the post-flash reference file).</p>
<p><em>Flatfield correction (FLATCORR)</em>: Conversion from DN to ELECTRONS no longer depends on FLATCORR=PERFORM. Unit conversion is done for all exposures after BIASCORR.</p>
<p><em>Photometry Keywords (PHOTCORR)</em>: The PHOTCORR step is now performed using tables of precomputed values instead of calls  to SYNPHOT. The correct table for a given image must be specified in the IMPHTTAB header keyword in order for calwf3 to perform the PHOTCORR step. By default, it should be in the <tt class="docutils literal"><span class="pre">iref</span></tt> directory and have the suffix <tt class="docutils literal"><span class="pre">_imp.fits</span></tt>. Each DETECTOR uses a different table. If you do not wish to use this feature, set PHOTCORR to OMIT.</p>
</div></blockquote>
<p><strong>SEE ALSO</strong></p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">calwf3</span></tt> is now part of HSTCAL package, which can be downloaded from
<a class="reference external" href="http://www.stsci.edu/institute/software_hardware/stsdas/download-stsdas">http://www.stsci.edu/institute/software_hardware/stsdas/download-stsdas</a></div></blockquote>
</dd></dl>

<dl class="function">
<dt id="wfc3tools.calwf3.run">
<tt class="descclassname">wfc3tools.calwf3.</tt><tt class="descname">run</tt><big>(</big><em>configobj=None</em><big>)</big><a class="headerlink" href="#wfc3tools.calwf3.run" title="Permalink to this definition">¶</a></dt>
<dd><p>TEAL interface for the &#8216;calwf3&#8217; function.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/stsci_logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to the wfc3tools package documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="wf32d.html"
                        title="next chapter">WF32D</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/calwf3.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="wf32d.html" title="WF32D"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the wfc3tools package documentation!"
             >previous</a> |</li>
        <li><a href="index.html">wfc3tools 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Megan Sosey, Howard Bushouse, Warren Hack.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>